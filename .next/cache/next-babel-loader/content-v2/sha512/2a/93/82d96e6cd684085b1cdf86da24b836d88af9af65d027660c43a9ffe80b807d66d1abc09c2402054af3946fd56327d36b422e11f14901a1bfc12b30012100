{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\novostack\\\\shopify\\\\apps\\\\ns-nextjs-shopify\\\\components\\\\FbConnect.js\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { Layout, AccountConnection, Link, Form, FormLayout } from '@shopify/polaris';\nimport Cookies from 'js-cookie';\nimport FacebookLogin from \"react-facebook-login\";\nimport graph from \"fb-react-sdk\";\nexport default class FbConnect extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"responseFacebook\", response => {\n      console.log(response);\n      this.setState({\n        accessToken: response.accessToken\n      });\n      graph.setAccessToken(response.accessToken);\n      graph.get(response.id + \"/businesses\", function (err, res) {\n        console.log(res);\n        let businessId = res.data[0].id;\n        /*\r\n        graph.get(businessId + \"/owned_product_catalogs\", function (err, res) {\r\n            let catalogId= res.data[0].id;\r\n            console.log(res);\r\n            graph.get(catalogId + \"/products\", function (err, res) {\r\n            console.log(res);\r\n            });\r\n        });\r\n        */\n      });\n    });\n\n    this.state = {\n      connected: Cookies.get('FBConnect') ? true : false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Form, {\n      method: \"post\",\n      children: /*#__PURE__*/_jsxDEV(FormLayout, {\n        children: /*#__PURE__*/_jsxDEV(Layout.AnnotatedSection, {\n          title: \"FB Commerce\",\n          description: \"Connect to your Facebook Commerce and manage all items from here\",\n          children: this.accountConnectionMarkup()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 17\n    }, this);\n  }\n\n  toggleConnection() {//this.setState( ({connected}) => ({connected:!connected}) );\n    //fb login\n  }\n\n  accountConnectionMarkup() {\n    // return this.state.connected\n    // ?(\n    //     <AccountConnection\n    //         avatarUrl=\"Facebook Connected\"                \n    //         action={{content: 'Facebook Connected'}}\n    //         details={Cookies.get('FBConnect')}\n    //         connected={this.state.connected}\n    //         termsOfService={\n    //             <p>You are now Connected with your FB Commerce Find out what items / products listed or check out with export porduct to store</p>\n    //         }\n    //     />\n    // )\n    // :(\n    //     <AccountConnection\n    //         title=\"Connct To Facebook\"\n    //         action={{content: 'Connect Facebook',onAction: this.toggleConnection.bind(this)}}\n    //         details=\"No Account Connected\"\n    //         connected={this.state.connected}\n    //         termsOfService={\n    //             <p>By Clicking Connect, You are agree to accept our terms and condition's <Link url='#'>Terms And Conditions</Link> Its Completly Free to Use</p>\n    //         }\n    //     />\n    // )\n    return !this.state.accessToken ? /*#__PURE__*/_jsxDEV(FacebookLogin, {\n      appId: \"335512434527301\",\n      autoLoad: false,\n      fields: \"name,email,picture\",\n      scope: \"public_profile,email,business_management,pages_read_engagement,catalog_management\",\n      callback: this.responseFacebook\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Connected\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["E:/novostack/shopify/apps/ns-nextjs-shopify/components/FbConnect.js"],"names":["React","Component","Layout","AccountConnection","Link","Form","FormLayout","Cookies","FacebookLogin","graph","FbConnect","constructor","props","response","console","log","setState","accessToken","setAccessToken","get","id","err","res","businessId","data","state","connected","render","accountConnectionMarkup","toggleConnection","responseFacebook"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAgC,OAAhC;AACA,SACIC,MADJ,EAEIC,iBAFJ,EAGIC,IAHJ,EAIIC,IAJJ,EAKIC,UALJ,QAMO,kBANP;AAOA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,OAAOC,KAAP,MAAkB,cAAlB;AACA,eAAe,MAAMC,SAAN,SAAwBV,KAAK,CAACC,SAA9B,CAAuC;AAClDU,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,8CAyBAC,QAAD,IAAa;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,WAAKG,QAAL,CAAc;AAACC,QAAAA,WAAW,EAAEJ,QAAQ,CAACI;AAAvB,OAAd;AACAR,MAAAA,KAAK,CAACS,cAAN,CAAqBL,QAAQ,CAACI,WAA9B;AAEAR,MAAAA,KAAK,CAACU,GAAN,CAAUN,QAAQ,CAACO,EAAT,GAAc,aAAxB,EAAuC,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACvDR,QAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACA,YAAIC,UAAU,GAAGD,GAAG,CAACE,IAAJ,CAAS,CAAT,EAAYJ,EAA7B;AACA;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACS,OAZD;AAcH,KA5CiB;;AAEd,SAAKK,KAAL,GAAa;AACTC,MAAAA,SAAS,EAACnB,OAAO,CAACY,GAAR,CAAY,WAAZ,IAA2B,IAA3B,GAAkC;AADnC,KAAb;AAGH;;AACDQ,EAAAA,MAAM,GAAE;AACJ,wBACQ,QAAC,IAAD;AAAM,MAAA,MAAM,EAAC,MAAb;AAAA,6BACI,QAAC,UAAD;AAAA,+BACI,QAAC,MAAD,CAAQ,gBAAR;AACI,UAAA,KAAK,EAAC,aADV;AAEI,UAAA,WAAW,EAAC,kEAFhB;AAAA,oBAIC,KAAKC,uBAAL;AAJD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADR;AAYH;;AACDC,EAAAA,gBAAgB,GAAE,CACd;AACA;AACH;;AAuBDD,EAAAA,uBAAuB,GAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAO,CAAC,KAAKH,KAAL,CAAWR,WAAZ,gBAGH,QAAC,aAAD;AACI,MAAA,KAAK,EAAC,iBADV;AAEI,MAAA,QAAQ,EAAE,KAFd;AAGI,MAAA,MAAM,EAAC,oBAHX;AAII,MAAA,KAAK,EAAC,mFAJV;AAKI,MAAA,QAAQ,EAAE,KAAKa;AALnB;AAAA;AAAA;AAAA;AAAA,YAHG,gBAaH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAbJ;AAgBH;;AAvFiD","sourcesContent":["import React,{ Component } from 'react';\r\nimport { \r\n    Layout,\r\n    AccountConnection,\r\n    Link,\r\n    Form,\r\n    FormLayout,\r\n} from '@shopify/polaris';\r\nimport Cookies from 'js-cookie';\r\nimport FacebookLogin from \"react-facebook-login\";\r\nimport graph from \"fb-react-sdk\";\r\nexport default class FbConnect extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            connected:Cookies.get('FBConnect') ? true : false,\r\n        }\r\n    }\r\n    render(){\r\n        return(\r\n                <Form method=\"post\">\r\n                    <FormLayout>\r\n                        <Layout.AnnotatedSection\r\n                            title=\"FB Commerce\"\r\n                            description=\"Connect to your Facebook Commerce and manage all items from here\"\r\n                        >\r\n                        {this.accountConnectionMarkup()}\r\n                        </Layout.AnnotatedSection>\r\n                    </FormLayout>\r\n                </Form>\r\n        );\r\n    }\r\n    toggleConnection(){\r\n        //this.setState( ({connected}) => ({connected:!connected}) );\r\n        //fb login\r\n    }\r\n\r\n    responseFacebook=(response) =>{\r\n        console.log(response);\r\n        this.setState({accessToken: response.accessToken});\r\n        graph.setAccessToken(response.accessToken);\r\n        \r\n        graph.get(response.id + \"/businesses\", function (err, res) {\r\n            console.log(res); \r\n            let businessId = res.data[0].id;\r\n            /*\r\n            graph.get(businessId + \"/owned_product_catalogs\", function (err, res) {\r\n                let catalogId= res.data[0].id;\r\n                console.log(res);\r\n                graph.get(catalogId + \"/products\", function (err, res) {\r\n                console.log(res);\r\n                });\r\n            });\r\n            */\r\n        });\r\n        \r\n    }\r\n\r\n    accountConnectionMarkup(){\r\n        // return this.state.connected\r\n        // ?(\r\n        //     <AccountConnection\r\n        //         avatarUrl=\"Facebook Connected\"                \r\n        //         action={{content: 'Facebook Connected'}}\r\n        //         details={Cookies.get('FBConnect')}\r\n        //         connected={this.state.connected}\r\n        //         termsOfService={\r\n        //             <p>You are now Connected with your FB Commerce Find out what items / products listed or check out with export porduct to store</p>\r\n        //         }\r\n        //     />\r\n        // )\r\n        // :(\r\n        //     <AccountConnection\r\n        //         title=\"Connct To Facebook\"\r\n        //         action={{content: 'Connect Facebook',onAction: this.toggleConnection.bind(this)}}\r\n        //         details=\"No Account Connected\"\r\n        //         connected={this.state.connected}\r\n        //         termsOfService={\r\n        //             <p>By Clicking Connect, You are agree to accept our terms and condition's <Link url='#'>Terms And Conditions</Link> Its Completly Free to Use</p>\r\n        //         }\r\n        //     />\r\n        // )\r\n        return !this.state.accessToken\r\n        ?\r\n            (\r\n            <FacebookLogin\r\n                appId=\"335512434527301\"\r\n                autoLoad={false}\r\n                fields=\"name,email,picture\"\r\n                scope=\"public_profile,email,business_management,pages_read_engagement,catalog_management\"\r\n                callback={this.responseFacebook}\r\n            />\r\n            )\r\n        :\r\n            (\r\n            <button>Connected</button>\r\n            \r\n            );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}