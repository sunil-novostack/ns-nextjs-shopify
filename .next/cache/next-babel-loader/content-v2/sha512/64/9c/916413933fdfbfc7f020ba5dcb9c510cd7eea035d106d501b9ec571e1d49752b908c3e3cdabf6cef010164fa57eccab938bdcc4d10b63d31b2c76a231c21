{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\novostack\\\\shopify\\\\apps\\\\ns-nextjs-shopify\\\\pages\\\\signin.js\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Router from \"next/router\";\nimport { Form, Page, FormLayout, Layout, Card, TextField, Button, Icon, DisplayText, Link, Spinner } from '@shopify/polaris';\nimport { IoMdLock } from \"react-icons/io\";\nimport firebase from '../lib/db/Firebase'; //import Cookies from 'js-cookie';\n\nexport default class Signin extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleUsernameChange\", value => {\n      this.setState({\n        userName: value\n      });\n    });\n\n    _defineProperty(this, \"handleUserpassChange\", value => {\n      this.setState({\n        userPass: value\n      });\n    });\n\n    _defineProperty(this, \"handleSigninSubmit\", async event => {\n      this.setState({\n        loading: true\n      });\n      const auth = await firebase.auth();\n      /*\r\n      auth.signInWithEmailAndPassword(this.state.userName,this.state.userPass).then( async function(){\r\n          const uid = await firebase.auth().currentUser.uid;\r\n          //Cookies.set('nsns',uid);\r\n          Router.push('/dashboard')\r\n      },function(error){\r\n          console.log(error)\r\n          \r\n      }).catch((error)=>{\r\n          this.setState({errorMessage:error.message})\r\n          this.setState({loading:false});\r\n      })\r\n      */\n\n      auth.signInWithEmailAndPassword(this.state.userName, this.state.userPass).then(user => {\n        //const uid = await firebase.auth().currentUser.uid;\n        Router.push('/dashboard');\n      }).catch(error => {\n        this.setState({\n          errorMessage: error.message\n        });\n        this.setState({\n          loading: false\n        });\n      });\n    });\n\n    this.state = {\n      isuserLoggedin: false,\n      userName: '',\n      userPass: '',\n      loading: false,\n      errorMessage: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Page, {\n      children: /*#__PURE__*/_jsxDEV(Layout, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          sectioned: true,\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            name: \"signin-form\",\n            onSubmit: this.handleSigninSubmit,\n            method: \"post\",\n            children: /*#__PURE__*/_jsxDEV(FormLayout, {\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                source: IoMdLock,\n                backdrop: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(DisplayText, {\n                size: \"medium\",\n                children: \"Sign In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                name: \"userName\",\n                type: \"email\",\n                placeholder: \"Email Address *\",\n                value: this.state.userName,\n                onChange: this.handleUsernameChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                name: \"userPass\",\n                type: \"password\",\n                placeholder: \"Password *\",\n                value: this.state.userPass,\n                onChange: this.handleUserpassChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                name: \"login\",\n                size: \"medium\",\n                primary: true,\n                submit: \"true\",\n                children: [\"SIGN IN\", this.state.loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 41\n                }, this) : \"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 33\n              }, this), this.state.errorMessage != '' ? /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.errorMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 37\n              }, this) : '', /*#__PURE__*/_jsxDEV(Link, {\n                url: \"/resetpass\",\n                children: \"Forgot Password?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                url: \"/signup\",\n                children: \"Don't have an account? Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 79\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["E:/novostack/shopify/apps/ns-nextjs-shopify/pages/signin.js"],"names":["React","Component","Router","Form","Page","FormLayout","Layout","Card","TextField","Button","Icon","DisplayText","Link","Spinner","IoMdLock","firebase","Signin","constructor","props","value","setState","userName","userPass","event","loading","auth","signInWithEmailAndPassword","state","then","user","push","catch","error","errorMessage","message","isuserLoggedin","render","handleSigninSubmit","handleUsernameChange","handleUserpassChange"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport Router from \"next/router\";\r\nimport {Form, Page, FormLayout, Layout, Card, TextField, Button, Icon, DisplayText, Link,Spinner } from '@shopify/polaris';\r\nimport {IoMdLock } from \"react-icons/io\";\r\nimport firebase  from '../lib/db/Firebase';\r\n//import Cookies from 'js-cookie';\r\n\r\nexport default class Signin extends Component{\r\n    constructor(props) {\r\n        super(props)  \r\n        this.state = {\r\n            isuserLoggedin:false,\r\n            userName:'',\r\n            userPass:'',\r\n            loading:false,\r\n            errorMessage:'',\r\n        }\r\n    }\r\n    \r\n    handleUsernameChange = (value) => {\r\n        this.setState({userName: value});\r\n    }\r\n    handleUserpassChange = (value) => {\r\n        this.setState({userPass: value});\r\n    }\r\n    handleSigninSubmit = async (event) => {\r\n        this.setState({loading:true})\r\n        const auth = await firebase.auth()\r\n        /*\r\n        auth.signInWithEmailAndPassword(this.state.userName,this.state.userPass).then( async function(){\r\n            const uid = await firebase.auth().currentUser.uid;\r\n            //Cookies.set('nsns',uid);\r\n            Router.push('/dashboard')\r\n        },function(error){\r\n            console.log(error)\r\n            \r\n        }).catch((error)=>{\r\n            this.setState({errorMessage:error.message})\r\n            this.setState({loading:false});\r\n        })\r\n        */\r\n        auth.signInWithEmailAndPassword(this.state.userName,this.state.userPass).then((user) => {\r\n            //const uid = await firebase.auth().currentUser.uid;\r\n            Router.push('/dashboard')\r\n        }).catch((error) => {\r\n            this.setState({errorMessage:error.message})\r\n            this.setState({loading:false});\r\n        })\r\n\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <Page>\r\n                <Layout>\r\n                    <Card sectioned>\r\n                        <Form name=\"signin-form\" onSubmit={this.handleSigninSubmit} method=\"post\">\r\n                            <FormLayout>\r\n                                <Icon source={IoMdLock} backdrop={false} />\r\n                                <DisplayText size=\"medium\">Sign In</DisplayText>\r\n                                <TextField\r\n                                    name=\"userName\"\r\n                                    type=\"email\"\r\n                                    placeholder=\"Email Address *\"\r\n                                    value={this.state.userName}\r\n                                    onChange={this.handleUsernameChange}\r\n                                />\r\n                                <TextField\r\n                                    name=\"userPass\"\r\n                                    type=\"password\"\r\n                                    placeholder=\"Password *\"\r\n                                    value={this.state.userPass}\r\n                                    onChange={this.handleUserpassChange}                                   \r\n                                />\r\n                                <Button\r\n                                    name=\"login\"\r\n                                    size=\"medium\"\r\n                                    primary={true}\r\n                                    submit=\"true\"\r\n                                >\r\n                                    SIGN IN\r\n                                    {this.state.loading\r\n                                        ?\r\n                                        <Spinner size=\"small\" />\r\n                                        :\r\n                                        \"\"\r\n                                    }                                    \r\n                                </Button>\r\n                                {this.state.errorMessage!=''\r\n                                ?\r\n                                    <p>{this.state.errorMessage}</p>\r\n                                :\r\n                                ''\r\n                                }\r\n                                <Link url=\"/resetpass\">Forgot Password?</Link><Link url=\"/signup\" >Don't have an account? Sign Up</Link>\r\n                            </FormLayout>\r\n                        </Form>\r\n                    </Card>\r\n                </Layout>\r\n            </Page>    \r\n        );\r\n    }\r\n  \r\n}"]},"metadata":{},"sourceType":"module"}