{"ast":null,"code":"import deepai from 'deepai';\nexport default (async (req, res) => {\n  const deepai = require('deepai');\n\n  deepai.setApiKey('257b469d-4d3f-4cbd-b834-3a98d4df40ae');\n  const {\n    method,\n    query\n  } = req;\n\n  switch (method) {\n    case 'GET':\n      try {\n        const response = await deepai.callStandardApi(\"sentiment-analysis\", {\n          text: query.text\n        });\n        res.status(200).json({\n          success: true,\n          suggest: response\n        });\n      } catch (error) {\n        console.log(error);\n        res.status(500).json({\n          success: false,\n          error: error\n        });\n      }\n\n      break;\n\n    case 'POST':\n      try {\n        const product = {};\n        res.status(201).json({\n          success: true,\n          data: product\n        });\n      } catch (error) {\n        res.status(400).json({\n          success: false\n        });\n      }\n\n      break;\n\n    default:\n      res.status(400).json({\n        success: false\n      });\n      break;\n  }\n});","map":{"version":3,"sources":["E:/novostack/shopify/apps/ns-nextjs-shopify/pages/api/deepai/index.js"],"names":["deepai","req","res","require","setApiKey","method","query","response","callStandardApi","text","status","json","success","suggest","error","console","log","product","data"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AAGA,gBAAe,OAAOC,GAAP,EAAWC,GAAX,KAAmB;AAC9B,QAAMF,MAAM,GAAGG,OAAO,CAAC,QAAD,CAAtB;;AACAH,EAAAA,MAAM,CAACI,SAAP,CAAiB,sCAAjB;AACA,QAAM;AAACC,IAAAA,MAAD;AAAQC,IAAAA;AAAR,MAAiBL,GAAvB;;AACA,UAAOI,MAAP;AACI,SAAK,KAAL;AACI,UAAG;AACC,cAAME,QAAQ,GAAG,MAAMP,MAAM,CAACQ,eAAP,CAAuB,oBAAvB,EAA4C;AAC/DC,UAAAA,IAAI,EAAGH,KAAK,CAACG;AADkD,SAA5C,CAAvB;AAGAP,QAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAC,IAAT;AAAcC,UAAAA,OAAO,EAACN;AAAtB,SAArB;AACH,OALD,CAKC,OAAMO,KAAN,EAAY;AACTC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAZ,QAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAC,KAAT;AAAeE,UAAAA,KAAK,EAACA;AAArB,SAArB;AACH;;AACD;;AACJ,SAAK,MAAL;AACI,UAAG;AACC,cAAMG,OAAO,GAAG,EAAhB;AAEAf,QAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAC,IAAT;AAAcM,UAAAA,IAAI,EAACD;AAAnB,SAArB;AAEH,OALD,CAKC,OAAMH,KAAN,EAAY;AACTZ,QAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAC;AAAT,SAArB;AACH;;AACD;;AACJ;AACIV,MAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB;AACA;AAxBR;AA0BH,CA9BD","sourcesContent":["import deepai from 'deepai';\r\n\r\n\r\nexport default async (req,res) => {\r\n    const deepai = require('deepai');\r\n    deepai.setApiKey('257b469d-4d3f-4cbd-b834-3a98d4df40ae');\r\n    const {method,query} = req;\r\n    switch(method){\r\n        case 'GET':\r\n            try{\r\n                const response = await deepai.callStandardApi(\"sentiment-analysis\",{\r\n                    text : query.text\r\n                })                \r\n                res.status(200).json({success:true,suggest:response})\r\n            }catch(error){\r\n                console.log(error)\r\n                res.status(500).json({success:false,error:error})\r\n            }\r\n            break;\r\n        case 'POST':\r\n            try{\r\n                const product = {}\r\n\r\n                res.status(201).json({success:true,data:product})\r\n\r\n            }catch(error){\r\n                res.status(400).json({success:false})\r\n            }\r\n            break;\r\n        default:\r\n            res.status(400).json({success:false})\r\n            break;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}