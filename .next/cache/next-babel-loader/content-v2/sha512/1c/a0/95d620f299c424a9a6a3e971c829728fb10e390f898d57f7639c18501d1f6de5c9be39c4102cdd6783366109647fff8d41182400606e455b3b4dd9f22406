{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"E:\\\\novostack\\\\shopify\\\\apps\\\\ns-nextjs-shopify\\\\components\\\\CrawlUrl.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Layout, Card, Form, FormLayout, TextField, Button, ChoiceList, MediaCard, TextContainer, TextStyle } from '@shopify/polaris';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\n\nvar CrawlUrl = /*#__PURE__*/function (_Component) {\n  _inherits(CrawlUrl, _Component);\n\n  var _super = _createSuper(CrawlUrl);\n\n  function CrawlUrl(props) {\n    var _this;\n\n    _classCallCheck(this, CrawlUrl);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSearchChange\", function (value) {\n      _this.setState({\n        searchUrl: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChangeEcom\", function (value) {\n      _this.setState({\n        selectedEcom: value\n      });\n\n      _this.setState({\n        searchUrl: ''\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFecthProductSubmit\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_event) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.setState({\n                  isLoading: true\n                });\n\n                _context.next = 3;\n                return axios({\n                  url: '/api/scrap-product-detail?',\n                  method: 'GET',\n                  params: {\n                    url: _this.state.searchUrl,\n                    ecom: _this.state.selectedEcom[0],\n                    product_id: 0,\n                    db_entry: 0\n                  }\n                }).then(function (response) {\n                  _this.setState({\n                    foundProduct: true,\n                    fetchedProduct: response.data.productDetail,\n                    isLoading: false\n                  });\n                });\n\n              case 3:\n                response = _context.sent;\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAddProduct\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_event) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                //console.log(this.state.fetchedProduct)\n                _this.setState({\n                  isLoading: true\n                });\n\n                _context2.prev = 1;\n                _context2.next = 4;\n                return axios({\n                  headers: {\n                    'shopname': Cookies.get('shopOrigin')\n                  },\n                  url: '/api/products',\n                  method: 'post',\n                  data: fetchedProduct\n                }).then(function (response) {\n                  console.log(response);\n\n                  _this.setState({\n                    isLoading: false\n                  });\n                });\n\n              case 4:\n                response = _context2.sent;\n                _context2.next = 10;\n                break;\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](1);\n                console.log(_context2.t0);\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 7]]);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEditProduct\", /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_event) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                console.log('popup');\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _this.state = {\n      searchUrl: '',\n      selectedEcom: ['Ebay'],\n      fetchedProduct: null,\n      foundProduct: false,\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(CrawlUrl, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxDEV(Form, {\n        name: \"product-fetch-form\",\n        onSubmit: this.handleFecthProductSubmit,\n        method: \"post\",\n        children: /*#__PURE__*/_jsxDEV(FormLayout, {\n          children: [/*#__PURE__*/_jsxDEV(Layout.AnnotatedSection, {\n            title: \"Extract Product\",\n            description: \"With the help of scrap url you can get product from here to your shop\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sectioned: true,\n              children: [/*#__PURE__*/_jsxDEV(ChoiceList, {\n                title: \"ECOM\",\n                choices: [{\n                  label: 'Ebay',\n                  value: 'Ebay'\n                }, {\n                  label: 'Sams Club',\n                  value: 'SamsClub'\n                }, {\n                  label: 'Boscovs',\n                  value: 'Boscovs'\n                }, {\n                  label: 'Home Depot',\n                  value: 'HomeDepot'\n                }, {\n                  label: 'Bed Bath',\n                  value: 'BedBathandBeyond'\n                }, {\n                  label: 'WalMart',\n                  value: 'Walmart'\n                }, {\n                  label: 'CostCo',\n                  value: 'CostCo'\n                }],\n                name: \"ecom\",\n                selected: this.state.selectedEcom,\n                onChange: this.handleChangeEcom\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"Paste URL Here\",\n                name: \"searchUrl\",\n                type: \"text\",\n                value: this.state.searchUrl,\n                onChange: this.handleSearchChange,\n                connectedRight: /*#__PURE__*/_jsxDEV(Button, {\n                  loading: this.state.isLoading ? true : false,\n                  primary: true,\n                  name: \"fetchproduct\",\n                  submit: \"true\",\n                  children: \"Extract\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }, this), this.state.foundProduct ? /*#__PURE__*/_jsxDEV(Layout, {\n            sectioned: true,\n            children: /*#__PURE__*/_jsxDEV(Layout.Section, {\n              children: /*#__PURE__*/_jsxDEV(MediaCard, {\n                title: this.state.fetchedProduct.title,\n                primaryAction: {\n                  content: 'Add Product',\n                  onAction: function onAction() {\n                    _this2.handleAddProduct();\n                  },\n                  loading: this.state.isLoading ? true : false,\n                  primary: true\n                },\n                secondaryAction: {\n                  content: 'Edit Before Add Product',\n                  onAction: function onAction() {\n                    _this2.handleEditProduct();\n                  },\n                  loading: this.state.isLoading ? true : false\n                },\n                description: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [this.state.fetchedProduct.variants ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"variations\",\n                    children: [/*#__PURE__*/_jsxDEV(TextStyle, {\n                      variation: \"subdued\",\n                      children: [\"Variation\", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"variation-count\",\n                        children: [\" \", this.state.fetchedProduct.variants.length, \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 146,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"variation-list\",\n                      children: Promise.all(this.state.fetchedProduct.variants.map( /*#__PURE__*/function () {\n                        var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(variation) {\n                          return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                            while (1) {\n                              switch (_context4.prev = _context4.next) {\n                                case 0:\n                                  /*#__PURE__*/\n                                  _jsxDEV(\"div\", {\n                                    className: \"v-item\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                      className: \"image-holder\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 153,\n                                      columnNumber: 69\n                                    }, _this2), /*#__PURE__*/_jsxDEV(\"div\", {\n                                      className: \"variation-props\",\n                                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                                          children: variation.name\n                                        }, void 0, false, {\n                                          fileName: _jsxFileName,\n                                          lineNumber: 156,\n                                          columnNumber: 76\n                                        }, _this2)\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 156,\n                                        columnNumber: 73\n                                      }, _this2), /*#__PURE__*/_jsxDEV(\"p\", {\n                                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                                          children: variation.price\n                                        }, void 0, false, {\n                                          fileName: _jsxFileName,\n                                          lineNumber: 157,\n                                          columnNumber: 76\n                                        }, _this2)\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 157,\n                                        columnNumber: 73\n                                      }, _this2)]\n                                    }, void 0, true, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 155,\n                                      columnNumber: 69\n                                    }, _this2)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 152,\n                                    columnNumber: 65\n                                  }, _this2);\n\n                                case 1:\n                                case \"end\":\n                                  return _context4.stop();\n                              }\n                            }\n                          }, _callee4);\n                        }));\n\n                        return function (_x4) {\n                          return _ref4.apply(this, arguments);\n                        };\n                      }()))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 148,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 49\n                  }, this) : 'No variation', /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"variations\",\n                    children: [/*#__PURE__*/_jsxDEV(TextStyle, {\n                      variation: \"subdued\",\n                      children: [\"Variation \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"variation-count\",\n                        children: \"(2)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 169,\n                        columnNumber: 86\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"variation-list\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"v-item\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"image-holder\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 172,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"variation-props\",\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Black\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 175,\n                              columnNumber: 60\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-v-line\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 175,\n                              columnNumber: 78\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"24\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 175,\n                              columnNumber: 115\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 175,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: /*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"$45\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 176,\n                              columnNumber: 60\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 176,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 174,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 171,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"v-item\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"image-holder\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 180,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"variation-props\",\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Black\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 183,\n                              columnNumber: 60\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-v-line\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 183,\n                              columnNumber: 78\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"24\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 183,\n                              columnNumber: 115\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 183,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: /*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"$45\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 184,\n                              columnNumber: 60\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 184,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 182,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 179,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 170,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 37\n                }, this),\n                size: \"small\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"image-holder\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"\",\n                    width: \"100%\",\n                    height: \"100%\",\n                    style: {\n                      objectFit: 'cover',\n                      objectPosition: 'center'\n                    },\n                    src: this.state.fetchedProduct.images[0]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"product-price\",\n                    children: [\"Price : \", this.state.fetchedProduct.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this) : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this);\n    }\n  }]);\n\n  return CrawlUrl;\n}(Component);\n\nexport { CrawlUrl as default };","map":{"version":3,"sources":["E:/novostack/shopify/apps/ns-nextjs-shopify/components/CrawlUrl.js"],"names":["React","Component","Layout","Card","Form","FormLayout","TextField","Button","ChoiceList","MediaCard","TextContainer","TextStyle","axios","Cookies","CrawlUrl","props","value","setState","searchUrl","selectedEcom","_event","isLoading","url","method","params","state","ecom","product_id","db_entry","then","response","foundProduct","fetchedProduct","data","productDetail","headers","get","console","log","handleFecthProductSubmit","label","handleChangeEcom","handleSearchChange","title","content","onAction","handleAddProduct","loading","primary","handleEditProduct","variants","length","Promise","all","map","variation","name","price","objectFit","objectPosition","images"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react';\r\nimport { \r\n    Layout,\r\n    Card,\r\n    Form,\r\n    FormLayout,\r\n    TextField,\r\n    Button,\r\n    ChoiceList,\r\n    MediaCard,\r\n    TextContainer,\r\n    TextStyle,\r\n} from '@shopify/polaris';\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport default class CrawlUrl extends Component{\r\n    constructor(props) {\r\n        super(props)  \r\n        this.state = {\r\n            searchUrl:'',\r\n            selectedEcom:['Ebay'],\r\n            fetchedProduct:null,\r\n            foundProduct:false,\r\n            isLoading:false,\r\n        }\r\n    }\r\n\r\n    handleSearchChange = (value) =>{this.setState({searchUrl:value})}\r\n    handleChangeEcom = (value) => {\r\n        this.setState({selectedEcom:value})\r\n        this.setState({searchUrl:''})\r\n    }\r\n    handleFecthProductSubmit = async (_event) => {\r\n        this.setState({\r\n            isLoading:true,\r\n        })\r\n        const response = await axios({\r\n            url : '/api/scrap-product-detail?',\r\n            method:'GET',\r\n            params:{\r\n                url:this.state.searchUrl,\r\n                ecom:this.state.selectedEcom[0],\r\n                product_id:0,\r\n                db_entry:0,\r\n            }\r\n        }).then((response) =>{\r\n            this.setState({\r\n                foundProduct:true,\r\n                fetchedProduct : response.data.productDetail,\r\n                isLoading:false,\r\n            })\r\n        })        \r\n    }\r\n    handleAddProduct = async (_event) =>{\r\n        //console.log(this.state.fetchedProduct)\r\n        this.setState({\r\n            isLoading:true,\r\n        })\r\n        try{\r\n            const response = await axios({\r\n                headers:{\r\n                    'shopname':Cookies.get('shopOrigin')\r\n                },\r\n                url:'/api/products',\r\n                method:'post',\r\n                data:fetchedProduct\r\n            }).then((response) =>{\r\n                console.log(response)\r\n                this.setState({\r\n                    isLoading:false,\r\n                })\r\n            })\r\n            //console.log(response)\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n    handleEditProduct = async (_event) => {\r\n        console.log('popup')\r\n    }\r\n\r\n    render(){\r\n        return(\r\n                <Form name=\"product-fetch-form\" onSubmit={this.handleFecthProductSubmit} method=\"post\">\r\n                    <FormLayout>\r\n                    <Layout.AnnotatedSection\r\n                        title=\"Extract Product\"\r\n                        description=\"With the help of scrap url you can get product from here to your shop\"\r\n                    >\r\n                        <Card sectioned>\r\n                            \r\n                            <ChoiceList\r\n                            title=\"ECOM\"\r\n                            choices={[\r\n                                {label: 'Ebay', value: 'Ebay'},\r\n                                {label: 'Sams Club', value: 'SamsClub'},\r\n                                {label: 'Boscovs', value: 'Boscovs'},\r\n                                {label: 'Home Depot', value: 'HomeDepot'},\r\n                                {label: 'Bed Bath', value: 'BedBathandBeyond'},\r\n                                {label: 'WalMart', value: 'Walmart'},\r\n                                {label: 'CostCo', value: 'CostCo'}\r\n                            ]}\r\n                            name=\"ecom\"                            \r\n                            selected={this.state.selectedEcom}\r\n                            onChange={this.handleChangeEcom}\r\n                            />\r\n                            <TextField\r\n                                label=\"Paste URL Here\"\r\n                                name=\"searchUrl\"\r\n                                type=\"text\"\r\n                                value={this.state.searchUrl}\r\n                                onChange={this.handleSearchChange}\r\n                                connectedRight={\r\n                                    <Button loading={this.state.isLoading ? true : false } primary={true} name=\"fetchproduct\" submit=\"true\">\r\n                                        Extract\r\n                                    </Button>\r\n                                }\r\n                            />                            \r\n                        </Card>\r\n                    </Layout.AnnotatedSection>\r\n                    {this.state.foundProduct\r\n                    ?\r\n                    \r\n                    <Layout sectioned={true}>\r\n                        <Layout.Section>\r\n                        <MediaCard\r\n                            title={this.state.fetchedProduct.title}\r\n                            primaryAction={{\r\n                                content: 'Add Product',\r\n                                onAction: () => { this.handleAddProduct() },\r\n                                loading:this.state.isLoading ? true : false,\r\n                                primary:true,\r\n                            }}\r\n                            secondaryAction={{\r\n                                content:'Edit Before Add Product',\r\n                                onAction: () => { this.handleEditProduct() },\r\n                                loading:this.state.isLoading ? true : false\r\n                            }}\r\n                            description={ \r\n                                    <div>                                        \r\n                                        {this.state.fetchedProduct.variants\r\n                                            ?\r\n                                                <div className=\"variations\">\r\n                                                    <TextStyle variation=\"subdued\">Variation \r\n                                                        <span className=\"variation-count\"> {this.state.fetchedProduct.variants.length} </span>\r\n                                                    </TextStyle>\r\n                                                    <div className=\"variation-list\">\r\n                                                    {\r\n                                                        Promise.all(\r\n                                                            this.state.fetchedProduct.variants.map( async (variation)=>{\r\n                                                                <div className=\"v-item\">\r\n                                                                    <div className=\"image-holder\">\r\n                                                                    </div>\r\n                                                                    <div className=\"variation-props\">\r\n                                                                        <p><span>{variation.name}</span></p>\r\n                                                                        <p><span>{variation.price}</span></p>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            })\r\n                                                        )\r\n                                                    }\r\n                                                    </div>\r\n                                                </div>\r\n                                            :\r\n                                                'No variation'\r\n                                        }\r\n                                        <div className=\"variations\">\r\n                                            <TextStyle variation=\"subdued\">Variation <span className=\"variation-count\">(2)</span></TextStyle>\r\n                                            <div className=\"variation-list\">\r\n                                                <div className=\"v-item\">\r\n                                                    <div className=\"image-holder\">\r\n                                                    </div>\r\n                                                    <div className=\"variation-props\">\r\n                                                        <p><span>Black</span><span className=\"text-v-line\"></span><span>24</span></p>\r\n                                                        <p><span>$45</span></p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"v-item\">\r\n                                                    <div className=\"image-holder\">\r\n                                                    </div>\r\n                                                    <div className=\"variation-props\">\r\n                                                        <p><span>Black</span><span className=\"text-v-line\"></span><span>24</span></p>\r\n                                                        <p><span>$45</span></p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                            size=\"small\"\r\n                        >\r\n                            <div className=\"image-holder\">\r\n                            <img\r\n                                alt=\"\"\r\n                                width=\"100%\"\r\n                                height=\"100%\"\r\n                                style={{\r\n                                objectFit: 'cover',\r\n                                objectPosition: 'center',\r\n                                }}\r\n                                src={this.state.fetchedProduct.images[0]}\r\n                            />\r\n                            <div className=\"product-price\">Price : {this.state.fetchedProduct.price}</div>\r\n                            </div>\r\n                        </MediaCard>\r\n                        </Layout.Section>\r\n                    </Layout>\r\n\r\n                    : \r\n                        ''\r\n                    }\r\n                    </FormLayout>              \r\n                </Form>\r\n        );\r\n    }\r\n     \r\n    \r\n}"]},"metadata":{},"sourceType":"module"}