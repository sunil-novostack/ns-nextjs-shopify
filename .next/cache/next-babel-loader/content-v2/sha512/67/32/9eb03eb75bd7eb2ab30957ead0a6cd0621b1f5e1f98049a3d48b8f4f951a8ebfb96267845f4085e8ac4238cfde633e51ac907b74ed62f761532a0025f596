{"ast":null,"code":"import axios from 'axios';\nexport default (async (req, res) => {\n  //const deepai = require('deepai');\n  //deepai.setApiKey('257b469d-4d3f-4cbd-b834-3a98d4df40ae');\n  const {\n    method,\n    query\n  } = req;\n\n  switch (method) {\n    case 'GET':\n      try {\n        res.status(200).json({\n          success: true\n        });\n      } catch (error) {\n        res.status(error.response.status).json({\n          success: false,\n          response\n        });\n      }\n\n      break;\n\n    case 'POST':\n      try {\n        const deepai = require('deepai'); // OR include deepai.min.js as a script tag in your HTML\n\n\n        deepai.setApiKey('257b469d-4d3f-4cbd-b834-3a98d4df40ae');\n        const response = await deepai.callStandardApi(\"text-generator\", {\n          text: req.body.text\n        });\n        console.log(response);\n        res.status(200).json({\n          success: true,\n          data: response\n        });\n      } catch (error) {\n        console.log(error.response);\n        res.status(error.response.status).json({\n          success: false,\n          error: error.response\n        });\n      }\n\n      break;\n\n    default:\n      res.status(400).json({\n        success: false\n      });\n      break;\n  }\n});","map":{"version":3,"sources":["E:/novostack/shopify/apps/ns-nextjs-shopify/pages/api/deepai/index.js"],"names":["axios","req","res","method","query","status","json","success","error","response","deepai","require","setApiKey","callStandardApi","text","body","console","log","data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,gBAAe,OAAOC,GAAP,EAAWC,GAAX,KAAmB;AAC9B;AACA;AACA,QAAM;AAACC,IAAAA,MAAD;AAAQC,IAAAA;AAAR,MAAiBH,GAAvB;;AACA,UAAOE,MAAP;AACI,SAAK,KAAL;AACI,UAAG;AACCD,QAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAC;AAAT,SAArB;AACH,OAFD,CAEC,OAAMC,KAAN,EAAY;AACTN,QAAAA,GAAG,CAACG,MAAJ,CAAWG,KAAK,CAACC,QAAN,CAAeJ,MAA1B,EAAkCC,IAAlC,CAAuC;AAACC,UAAAA,OAAO,EAAC,KAAT;AAAeE,UAAAA;AAAf,SAAvC;AACH;;AACD;;AACJ,SAAK,MAAL;AACI,UAAG;AACC,cAAMC,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB,CADD,CACmC;;;AAClCD,QAAAA,MAAM,CAACE,SAAP,CAAiB,sCAAjB;AACA,cAAMH,QAAQ,GAAG,MAAMC,MAAM,CAACG,eAAP,CAAuB,gBAAvB,EAAyC;AAC5DC,UAAAA,IAAI,EAAEb,GAAG,CAACc,IAAJ,CAASD;AAD6C,SAAzC,CAAvB;AAGAE,QAAAA,OAAO,CAACC,GAAR,CAAYR,QAAZ;AACAP,QAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAC,IAAT;AAAcW,UAAAA,IAAI,EAACT;AAAnB,SAArB;AAEH,OATD,CASC,OAAMD,KAAN,EAAY;AACTQ,QAAAA,OAAO,CAACC,GAAR,CAAYT,KAAK,CAACC,QAAlB;AACAP,QAAAA,GAAG,CAACG,MAAJ,CAAWG,KAAK,CAACC,QAAN,CAAeJ,MAA1B,EAAkCC,IAAlC,CAAuC;AAACC,UAAAA,OAAO,EAAC,KAAT;AAAeC,UAAAA,KAAK,EAACA,KAAK,CAACC;AAA3B,SAAvC;AACH;;AACD;;AACJ;AACIP,MAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB;AACA;AAzBR;AA2BH,CA/BD","sourcesContent":["import axios from 'axios';\r\n\r\nexport default async (req,res) => {\r\n    //const deepai = require('deepai');\r\n    //deepai.setApiKey('257b469d-4d3f-4cbd-b834-3a98d4df40ae');\r\n    const {method,query} = req;\r\n    switch(method){\r\n        case 'GET':\r\n            try{           \r\n                res.status(200).json({success:true})\r\n            }catch(error){\r\n                res.status(error.response.status).json({success:false,response})\r\n            }\r\n            break;\r\n        case 'POST':\r\n            try{\r\n                const deepai = require('deepai'); // OR include deepai.min.js as a script tag in your HTML\r\n                deepai.setApiKey('257b469d-4d3f-4cbd-b834-3a98d4df40ae');                \r\n                const response = await deepai.callStandardApi(\"text-generator\", {\r\n                    text: req.body.text,\r\n                });\r\n                console.log(response)\r\n                res.status(200).json({success:true,data:response})\r\n                \r\n            }catch(error){\r\n                console.log(error.response)\r\n                res.status(error.response.status).json({success:false,error:error.response})\r\n            }\r\n            break;\r\n        default:\r\n            res.status(400).json({success:false})\r\n            break;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}