{"ast":null,"code":"import axios from 'axios';\nexport default (async (req, res) => {\n  //const deepai = require('deepai');\n  //deepai.setApiKey('257b469d-4d3f-4cbd-b834-3a98d4df40ae');\n  const {\n    method,\n    query\n  } = req;\n\n  switch (method) {\n    case 'GET':\n      try {\n        /*\r\n        const response = await deepai.callStandardApi(\"sentiment-analysis\",{\r\n            text : query.text\r\n        })\r\n        */\n        console.log(req);\n        const response = await axios({\n          url: '/text-generator',\n          headers: {\n            \"api-key\": \"257b469d-4d3f-4cbd-b834-3a98d4df40ae\"\n          },\n          method: \"POST\",\n          baseURL: 'https://api.deepai.org/api',\n          data: req.body\n        }).then(response => {\n          console.log(response);\n          res.status(200).json({\n            success: true,\n            suggest: response\n          });\n        });\n      } catch (error) {\n        console.log(error.response);\n        res.status(error.response.status).json({\n          success: false,\n          response\n        });\n      }\n\n      break;\n\n    case 'POST':\n      try {\n        const product = {};\n        res.status(201).json({\n          success: true,\n          data: product\n        });\n      } catch (error) {\n        res.status(400).json({\n          success: false\n        });\n      }\n\n      break;\n\n    default:\n      res.status(400).json({\n        success: false\n      });\n      break;\n  }\n});","map":{"version":3,"sources":["E:/novostack/shopify/apps/ns-nextjs-shopify/pages/api/deepai/index.js"],"names":["axios","req","res","method","query","console","log","response","url","headers","baseURL","data","body","then","status","json","success","suggest","error","product"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,gBAAe,OAAOC,GAAP,EAAWC,GAAX,KAAmB;AAC9B;AACA;AACA,QAAM;AAACC,IAAAA,MAAD;AAAQC,IAAAA;AAAR,MAAiBH,GAAvB;;AACA,UAAOE,MAAP;AACI,SAAK,KAAL;AACI,UAAG;AACC;AAChB;AACA;AACA;AACA;AACeE,QAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACC,cAAMM,QAAQ,GAAG,MAAMP,KAAK,CAAC;AACzBQ,UAAAA,GAAG,EAAC,iBADqB;AAEzBC,UAAAA,OAAO,EAAE;AACL,uBAAW;AADN,WAFgB;AAKzBN,UAAAA,MAAM,EAAE,MALiB;AAMzBO,UAAAA,OAAO,EAAC,4BANiB;AAOzBC,UAAAA,IAAI,EAACV,GAAG,CAACW;AAPgB,SAAD,CAAL,CAQpBC,IARoB,CAQdN,QAAD,IAAa;AACjBF,UAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ;AACAL,UAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,YAAAA,OAAO,EAAC,IAAT;AAAcC,YAAAA,OAAO,EAACV;AAAtB,WAArB;AACH,SAXsB,CAAvB;AAcH,OArBD,CAqBC,OAAMW,KAAN,EAAY;AACTb,QAAAA,OAAO,CAACC,GAAR,CAAYY,KAAK,CAACX,QAAlB;AACAL,QAAAA,GAAG,CAACY,MAAJ,CAAWI,KAAK,CAACX,QAAN,CAAeO,MAA1B,EAAkCC,IAAlC,CAAuC;AAACC,UAAAA,OAAO,EAAC,KAAT;AAAeT,UAAAA;AAAf,SAAvC;AACH;;AACD;;AACJ,SAAK,MAAL;AACI,UAAG;AACC,cAAMY,OAAO,GAAG,EAAhB;AAEAjB,QAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAC,IAAT;AAAcL,UAAAA,IAAI,EAACQ;AAAnB,SAArB;AAEH,OALD,CAKC,OAAMD,KAAN,EAAY;AACThB,QAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAC;AAAT,SAArB;AACH;;AACD;;AACJ;AACId,MAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB;AACA;AAxCR;AA0CH,CA9CD","sourcesContent":["import axios from 'axios';\r\n\r\nexport default async (req,res) => {\r\n    //const deepai = require('deepai');\r\n    //deepai.setApiKey('257b469d-4d3f-4cbd-b834-3a98d4df40ae');\r\n    const {method,query} = req;\r\n    switch(method){\r\n        case 'GET':\r\n            try{\r\n                /*\r\n                const response = await deepai.callStandardApi(\"sentiment-analysis\",{\r\n                    text : query.text\r\n                })\r\n                */\r\n               console.log(req)\r\n                const response = await axios({\r\n                    url:'/text-generator',\r\n                    headers: {\r\n                        \"api-key\": \"257b469d-4d3f-4cbd-b834-3a98d4df40ae\",\r\n                    },\r\n                    method: \"POST\",\r\n                    baseURL:'https://api.deepai.org/api',\r\n                    data:req.body\r\n                }).then((response) =>{\r\n                    console.log(response)\r\n                    res.status(200).json({success:true,suggest:response})\r\n                })\r\n\r\n                \r\n            }catch(error){\r\n                console.log(error.response)\r\n                res.status(error.response.status).json({success:false,response})\r\n            }\r\n            break;\r\n        case 'POST':\r\n            try{\r\n                const product = {}\r\n\r\n                res.status(201).json({success:true,data:product})\r\n\r\n            }catch(error){\r\n                res.status(400).json({success:false})\r\n            }\r\n            break;\r\n        default:\r\n            res.status(400).json({success:false})\r\n            break;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}