{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"E:\\\\novostack\\\\shopify\\\\apps\\\\ns-nextjs-shopify\\\\components\\\\CrawlUrl.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Layout, Card, Form, FormLayout, TextField, Button, ChoiceList, MediaCard } from '@shopify/polaris';\nimport firebase from '../lib/db/Firebase';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\n\nvar CrawlUrl = /*#__PURE__*/function (_Component) {\n  _inherits(CrawlUrl, _Component);\n\n  var _super = _createSuper(CrawlUrl);\n\n  function CrawlUrl(props) {\n    var _this;\n\n    _classCallCheck(this, CrawlUrl);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSearchChange\", function (value) {\n      _this.setState({\n        searchUrl: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChangeEcom\", function (value) {\n      _this.setState({\n        selectedEcom: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFecthProductSubmit\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_event) {\n        var response, productDetails;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                Ajax.getJSON(_this.state.searchUrl).then(function (response) {\n                  console.log(response);\n                }, function (err) {\n                  console.log(err);\n                });\n                _context.next = 3;\n                return axios({\n                  url: '/api/scrap-product-detail?',\n                  method: 'GET',\n                  params: {\n                    url: _this.state.searchUrl,\n                    ecom: _this.state.selectedEcom[0],\n                    product_id: 0,\n                    db_entry: 0\n                  }\n                });\n\n              case 3:\n                response = _context.sent;\n                console.log(response);\n                _context.next = 7;\n                return response.data.productDetail[0];\n\n              case 7:\n                productDetails = _context.sent;\n\n                /*\r\n                const productDetails = await {\r\n                    title:'This is product title',\r\n                    description:'This will be default product description if any',\r\n                    image:'https://cdn.shopify.com/s/files/1/0532/5062/1627/products/city-woman-fashion_925x_2x_ee873798-6f63-4d75-932d-297a182d9047_350x350.jpg?',\r\n                    price:'125.00',\r\n                }\r\n                */\n                _this.setState({\n                  foundProduct: true,\n                  fetchedProduct: productDetails\n                });\n\n                if (_this.state.foundProduct) {//this.addProduct();\n                }\n                /*\r\n                \r\n                //inserting product into firebase firestore\r\n                firebase.firestore().collection('sunil-novostack.myshopify.com').doc().set(\r\n                    {\r\n                        title:'This is product title',\r\n                        description:'This will be default product description if any',\r\n                        image:'https://cdn.shopify.com/s/files/1/0532/5062/1627/products/city-woman-fashion_925x_2x_ee873798-6f63-4d75-932d-297a182d9047_350x350.jpg?',\r\n                        price:'125.00',\r\n                        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n                    }\r\n                ) \r\n                */\n\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"addProduct\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var token, response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              token = Cookies.get('shopAccessToken');\n              _context2.next = 4;\n              return axios({\n                headers: {\n                  \"Access-Control-Allow-Origin\": \"*\"\n                },\n                url: '/products',\n                method: 'post',\n                baseURL: 'https://4f677f5d50f9.ngrok.io/api',\n                params: _this.state.fetchedProduct\n              });\n\n            case 4:\n              response = _context2.sent;\n              console.log(response);\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 8]]);\n    })));\n\n    _this.state = {\n      searchUrl: '',\n      selectedEcom: ['Ebay'],\n      fetchedProduct: null,\n      foundProduct: false\n    };\n    return _this;\n  }\n\n  _createClass(CrawlUrl, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(Form, {\n        name: \"product-fetch-form\",\n        onSubmit: this.handleFecthProductSubmit,\n        method: \"post\",\n        children: /*#__PURE__*/_jsxDEV(FormLayout, {\n          children: [/*#__PURE__*/_jsxDEV(Layout.AnnotatedSection, {\n            title: \"Extract Product\",\n            description: \"With the help of scrap url you can get product from here to your shop\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sectioned: true,\n              children: [/*#__PURE__*/_jsxDEV(ChoiceList, {\n                title: \"ECOM\",\n                choices: [{\n                  label: 'Ebay',\n                  value: 'Ebay'\n                }, {\n                  label: 'Sams Club',\n                  value: 'SamsClub'\n                }, {\n                  label: 'Boscovs',\n                  value: 'Boscovs'\n                }, {\n                  label: 'Home Depot',\n                  value: 'HomeDepot'\n                }, {\n                  label: 'Bed Bath',\n                  value: 'BedBathandBeyond'\n                }, {\n                  label: 'WalMart',\n                  value: 'Walmart'\n                }, {\n                  label: 'CostCo',\n                  value: 'CostCo'\n                }],\n                name: \"ecom\",\n                selected: this.state.selectedEcom,\n                onChange: this.handleChangeEcom\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"Paste URL Here\",\n                name: \"searchUrl\",\n                type: \"text\",\n                value: this.state.searchUrl,\n                onChange: this.handleSearchChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                icon: \"\",\n                primary: true,\n                name: \"fetchproduct\",\n                submit: \"true\",\n                children: \"Extract\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 21\n          }, this), this.state.foundProduct ? /*#__PURE__*/_jsxDEV(Layout, {\n            sectioned: true,\n            children: /*#__PURE__*/_jsxDEV(Layout.Section, {\n              children: /*#__PURE__*/_jsxDEV(MediaCard, {\n                title: this.state.fetchedProduct.product_title,\n                primaryAction: {\n                  content: 'Import It',\n                  onAction: function onAction() {}\n                },\n                description: this.state.fetchedProduct.description,\n                size: \"small\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"image-holder\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"\",\n                    width: \"100%\",\n                    height: \"100%\",\n                    style: {\n                      objectFit: 'cover',\n                      objectPosition: 'center'\n                    },\n                    src: this.state.fetchedProduct.images[0]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"product-price\",\n                    children: [\"Price : \", this.state.fetchedProduct.product_price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 21\n          }, this) : /*#__PURE__*/_jsxDEV(Layout, {\n            sectioned: true,\n            children: /*#__PURE__*/_jsxDEV(Layout.Section, {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Please Pass Right Url to Fetch Product data...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this);\n    }\n  }]);\n\n  return CrawlUrl;\n}(Component);\n\nexport { CrawlUrl as default };","map":{"version":3,"sources":["E:/novostack/shopify/apps/ns-nextjs-shopify/components/CrawlUrl.js"],"names":["React","Component","Layout","Card","Form","FormLayout","TextField","Button","ChoiceList","MediaCard","firebase","axios","Cookies","CrawlUrl","props","value","setState","searchUrl","selectedEcom","_event","Ajax","getJSON","state","then","response","console","log","err","url","method","params","ecom","product_id","db_entry","data","productDetail","productDetails","foundProduct","fetchedProduct","token","get","headers","baseURL","handleFecthProductSubmit","label","handleChangeEcom","handleSearchChange","product_title","content","onAction","description","objectFit","objectPosition","images","product_price"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react';\r\nimport { \r\n    Layout,\r\n    Card,\r\n    Form,\r\n    FormLayout,\r\n    TextField,\r\n    Button,\r\n    ChoiceList,\r\n    MediaCard,\r\n} from '@shopify/polaris';\r\nimport firebase  from '../lib/db/Firebase';\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport default class CrawlUrl extends Component{\r\n    constructor(props) {\r\n        super(props)  \r\n        this.state = {\r\n            searchUrl:'',\r\n            selectedEcom:['Ebay'],\r\n            fetchedProduct:null,\r\n            foundProduct:false,\r\n        }\r\n    }\r\n\r\n    handleSearchChange = (value) =>{this.setState({searchUrl:value})}\r\n    handleChangeEcom = (value) => {this.setState({selectedEcom:value})}\r\n    handleFecthProductSubmit = async (_event) => {\r\n               \r\n         Ajax.getJSON(this.state.searchUrl).then(\r\n            response => {\r\n                console.log(response)\r\n            }, err => {\r\n                console.log(err)\r\n            }\r\n        );\r\n        const response = await axios({\r\n            url : '/api/scrap-product-detail?',\r\n            method:'GET',\r\n            params:{\r\n                url:this.state.searchUrl,\r\n                ecom:this.state.selectedEcom[0],\r\n                product_id:0,\r\n                db_entry:0,\r\n            }\r\n        })\r\n        \r\n        console.log(response)\r\n        const productDetails = await response.data.productDetail[0]\r\n        /*\r\n        const productDetails = await {\r\n            title:'This is product title',\r\n            description:'This will be default product description if any',\r\n            image:'https://cdn.shopify.com/s/files/1/0532/5062/1627/products/city-woman-fashion_925x_2x_ee873798-6f63-4d75-932d-297a182d9047_350x350.jpg?',\r\n            price:'125.00',\r\n        }\r\n        */\r\n        this.setState({\r\n            foundProduct:true,\r\n            fetchedProduct : productDetails\r\n        })\r\n\r\n        if(this.state.foundProduct){\r\n            //this.addProduct();\r\n\r\n        }\r\n        /*\r\n        \r\n        //inserting product into firebase firestore\r\n        firebase.firestore().collection('sunil-novostack.myshopify.com').doc().set(\r\n            {\r\n                title:'This is product title',\r\n                description:'This will be default product description if any',\r\n                image:'https://cdn.shopify.com/s/files/1/0532/5062/1627/products/city-woman-fashion_925x_2x_ee873798-6f63-4d75-932d-297a182d9047_350x350.jpg?',\r\n                price:'125.00',\r\n                timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n            }\r\n        ) \r\n        */\r\n        \r\n    }\r\n    addProduct = async () =>{\r\n        try{\r\n            const token = Cookies.get('shopAccessToken')\r\n            const response = await axios({\r\n                headers: {\r\n                    \"Access-Control-Allow-Origin\": \"*\"                    \r\n                } ,\r\n                url:'/products',\r\n                method:'post',\r\n                baseURL:'https://4f677f5d50f9.ngrok.io/api',\r\n                params:this.state.fetchedProduct\r\n            })\r\n            console.log(response)\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n                <Form name=\"product-fetch-form\" onSubmit={this.handleFecthProductSubmit} method=\"post\">\r\n                    <FormLayout>\r\n                    <Layout.AnnotatedSection\r\n                        title=\"Extract Product\"\r\n                        description=\"With the help of scrap url you can get product from here to your shop\"\r\n                    >\r\n                        <Card sectioned>\r\n                            \r\n                                    <ChoiceList\r\n                                    title=\"ECOM\"\r\n                                    choices={[\r\n                                        {label: 'Ebay', value: 'Ebay'},\r\n                                        {label: 'Sams Club', value: 'SamsClub'},\r\n                                        {label: 'Boscovs', value: 'Boscovs'},\r\n                                        {label: 'Home Depot', value: 'HomeDepot'},\r\n                                        {label: 'Bed Bath', value: 'BedBathandBeyond'},\r\n                                        {label: 'WalMart', value: 'Walmart'},\r\n                                        {label: 'CostCo', value: 'CostCo'}\r\n                                    ]}\r\n                                    name=\"ecom\"                            \r\n                                    selected={this.state.selectedEcom}\r\n                                    onChange={this.handleChangeEcom}\r\n                                    />\r\n                                    <TextField\r\n                                        label=\"Paste URL Here\"\r\n                                        name=\"searchUrl\"\r\n                                        type=\"text\"\r\n                                        value={this.state.searchUrl}\r\n                                        onChange={this.handleSearchChange}\r\n                                    />\r\n                                    <Button icon=\"\" primary={true} name=\"fetchproduct\" submit=\"true\">Extract</Button>                    \r\n                        </Card>\r\n                    </Layout.AnnotatedSection>\r\n                    {this.state.foundProduct\r\n                    ?\r\n                    \r\n                    <Layout sectioned={true}>\r\n                        <Layout.Section>\r\n                        <MediaCard\r\n                            title={this.state.fetchedProduct.product_title}\r\n                            primaryAction={{\r\n                                content: 'Import It',\r\n                                onAction: () => {},\r\n                            }}\r\n                            description={this.state.fetchedProduct.description}\r\n                            size=\"small\"\r\n                        >\r\n                            <div className=\"image-holder\">\r\n                            <img\r\n                                alt=\"\"\r\n                                width=\"100%\"\r\n                                height=\"100%\"\r\n                                style={{\r\n                                objectFit: 'cover',\r\n                                objectPosition: 'center',\r\n                                }}\r\n                                src={this.state.fetchedProduct.images[0]}\r\n                            />\r\n                            <div className=\"product-price\">Price : {this.state.fetchedProduct.product_price}</div>\r\n                            </div>\r\n                        </MediaCard>\r\n                        </Layout.Section>\r\n                    </Layout>\r\n\r\n                    : \r\n                    <Layout sectioned>\r\n                        <Layout.Section>\r\n                                <p>Please Pass Right Url to Fetch Product data...</p>\r\n                        </Layout.Section>\r\n                    </Layout>\r\n\r\n                    }\r\n                    </FormLayout>              \r\n                </Form>\r\n        );\r\n    }\r\n     \r\n    \r\n}"]},"metadata":{},"sourceType":"module"}